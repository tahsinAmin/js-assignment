<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Date</title>
  </head>
  <body>
    <div
      class="
        hero
        relative
        mt-2
        mx-4
        sm:mx-0flex
        h-[645px]
        bg-[url('img/hero.jpg')] bg-cover bg-center
      "
    >
      <div class="m-auto">
        <h3 class="text-2xl font-normal mb-4">JOURNEYS</h3>
        <h1 class="text-4xl sm:text-5xl font-medium mb-4">
          Stories From Around The World
        </h1>
        <form class="m-auto" action="">
          <div
            class="
              mx-auto
              flex flex-col
              sm:flex-row
              space-y-2
              sm:space-y-0 sm:space-x-2
            "
          >
            <!-- Search -->
            <div class="search flex items-center bg-white px-2">
              <i class="fas fa-search text-gray-400 bg-white"></i>
              <input
                type="text"
                placeholder="Search ..."
                class="px-1 rounded-lg text-black"
                id="search_val"
              />
            </div>

            <!-- Date -->
            <div
              class="
                flex
                items-center
                justify-center
                date_in
                bg-white
                border border-blue-400
              "
            >
              <input
                type="date"
                id="txtDate1"
                class="px-1 text-black"
                required="Required"
                class="form-control"
                name="txtDate1"
              />
            </div>
            <div
              class="
                flex
                items-center
                justify-centerdate_out
                bg-white
                border border-blue-400
              "
            >
              <input
                type="date"
                id="txtDate2"
                class="px-1 text-black"
                required="Required"
                class="form-control"
                name="txtDate2"
              />
            </div>

            <!-- Guests -->
            <div
              class="guests_add bg-white px-2 flex items-center"
              onclick="popup_guest()"
            >
              <i class="fas fa-users text-gray-400 bg-white"></i>
              <input
                type="number"
                class="text-black w-[70px] pl-2"
                placeholder="Guests"
                value=""
                disabled=""
                id="guest_val"
              />
              <i class="fas fa-sort-down text-gray-400 bg-white pb-1"></i>
            </div>

            <!-- Price Range -->
            <div
              class="price_range_add bg-white rounded-lg px-2 flex items-center"
              onclick="popup_range()"
            >
              <input
                type="text"
                class="text-black pl-2"
                placeholder="Price Range"
                value=""
                disabled=""
                id="price_val"
              />
              <i class="fas fa-sort-down text-gray-400 bg-white pb-1"></i>
            </div>

            <input
              type="button"
              value="Search"
              class="bg-white border p-2"
              onclick="show_alert()"
            />
          </div>
        </form>

        <!-- Guests Pop Up-->
        <div
          class="pop_up_guest hidden flex flex-col bg-white p-4"
          id="set_guest_num"
        >
          <div class="flex items-center space-x-3">
            <p class="text-3xl">Guests</p>
            <button
              class="
                px-5
                py-2
                text-center
                rounded-full
                border-2 border-[#00CD92]
                text-[#00CD92] text-3xl
                font-black
                focus:ring focus:ring-[#00CD92]
                hover:bg-[#00CD92] hover:text-white
              "
              onclick="decrement()"
            >
              -
            </button>
            <p id="guest_size" class="text-3xl">0</p>
            <button
              class="
                px-4
                py-2
                text-center
                rounded-full
                border-2 border-[#00CD92]
                text-[#00CD92] text-3xl
                font-black
                focus:ring focus:ring-[#00CD92]
                hover:bg-[#00CD92] hover:text-white
              "
              onclick="increment()"
            >
              +
            </button>
          </div>
          <div class="add_buttton flex justify-end">
            <button
              class="
                bg-[#00CD92]
                text-white
                uppercase
                shadow-lg
                py-3
                px-6
                rounded-lg
              "
              onclick="on_add_guest()"
            >
              ADD
            </button>
          </div>
        </div>

        <!-- Price Pop Up -->
        <div
          class="pop_up_price_range hidden wrapper flex flex-col bg-white p-4"
          id="set_price_num"
        >
          <div>
            <p class="text-2xl font-semibold mb-4">
              Price Range: ৳
              <span class="font-medium text-blue-500" id="show_range_val_1">
                0
              </span>
              <span> &dash; </span>
              ৳
              <span class="font-medium text-blue-500" id="show_range_val_2"
                >100</span
              >
              + per night
            </p>
            <div class="values">
              <span id="range1"> 0 </span>
              <span> &dash; </span>
              <span id="range2"> 128749 </span>
            </div>
            <div class="cont">
              <div class="slider-track bg-blue-300"></div>
              <input
                type="range"
                min="0"
                max="128749"
                value="0"
                id="slider-1"
                oninput="slideOne()"
              />
              <div id="selector-1">
                <!-- <div class="selectBtn-1"></div> -->
                <div id="selectValue-1">0</div>
              </div>

              <input
                type="range"
                min="0"
                max="128749"
                value="128749"
                id="slider-2"
                oninput="slideTwo()"
              />
              <!-- <div class="bain">
            <div class="selector">
              <div class="selectBtn"></div>
              <div id="selectValue"></div>
            </div>
          </div> -->
            </div>
          </div>
          <div class="add_buttton flex justify-end">
            <button
              class="
                bg-[#00CD92]
                text-white
                uppercase
                shadow-lg
                py-3
                px-6
                rounded-lg
              "
              onclick="on_add_price()"
            >
              ADD
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Slider start
      let set_price_num = document.getElementById("set_price_num");

      function on_add_price() {
        let price_val = document.getElementById("price_val");
        price_range = "৳" + sliderOne.value + " - ৳" + sliderTwo.value;
        price_val.value = price_range;
        set_price_num.classList.toggle("hidden");
      }

      function popup_range() {
        set_price_num.classList.toggle("hidden");
      }

      let selector = document.getElementById("selector");
      let selectValue = document.getElementById("selectValue");

      window.onload = function () {
        slideOne();
        slideTwo();
      };

      let sliderOne = document.getElementById("slider-1");
      let sliderTwo = document.getElementById("slider-2");
      let displayValOne = document.getElementById("range1");
      let displayValTwo = document.getElementById("range2");

      let displayRangeOne = document.getElementById("show_range_val_1");
      let displayRangeTwo = document.getElementById("show_range_val_2");

      let minGap = 5;
      let sliderTrack = document.querySelector(".slider-track");
      let sliderMaxValue = document.getElementById("slider-1").max;

      function slideOne() {
        if (parseInt(sliderTwo.value) - parseInt(sliderOne.value) <= minGap) {
          sliderOne.value = parseInt(sliderTwo.value) - minGap;
        }
        displayValOne.textContent = sliderOne.value;
        displayRangeOne.textContent = sliderOne.value;
      }

      function slideTwo() {
        if (parseInt(sliderTwo.value) - parseInt(sliderOne.value) <= minGap) {
          sliderTwo.value = parseInt(sliderOne.value) + minGap;
        }
        displayValTwo.textContent = sliderTwo.value;
        displayRangeTwo.textContent = sliderTwo.value;
      }
      // Slider End
      let check_in = new Date().toISOString().split("T")[0];
      document.getElementsByName("txtDate1")[0].setAttribute("min", check_in);

      let check_out = new Date().toISOString().split("T")[0];
      document.getElementsByName("txtDate2")[0].setAttribute("min", check_out);

      let guest_size = 0;
      let set_guest_num = document.getElementById("set_guest_num");

      function decrement() {
        if (guest_size == 0) {
          document.getElementById("guest_size").innerText = guest_size;
        } else {
          guest_size -= 1;
          document.getElementById("guest_size").innerText = guest_size;
        }
      }

      function increment() {
        guest_size += 1;
        document.getElementById("guest_size").innerText = guest_size;
      }

      function on_add_guest() {
        let guest_val = document.getElementById("guest_val");
        guest_val.value = guest_size;
        set_guest_num.classList.toggle("hidden");
      }
      function popup_guest() {
        set_guest_num.classList.toggle("hidden");
      }

      function show_alert() {
        let no_of_guests = document.getElementById("guest_val").value;
        if (guest_size != 0) {
          guest_size = no_of_guests;
        }

        let check_in = document.getElementById("txtDate1").value;
        let check_out = document.getElementById("txtDate2").value;
        let place = document.getElementById("search_val").value;

        if (check_in < check_out) {
          alert(
            "Search: " +
              place +
              "\n" +
              "Checkin: " +
              check_in +
              "\nCheckout: " +
              check_out +
              "\nGuest: " +
              guest_size +
              "\n" +
              "Price range: ~ \n"
          );
        } else {
          alert("Sorry, we don't time travel :)");
        }
      }
    </script>
  </body>
</html>
