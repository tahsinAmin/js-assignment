<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <title>Date</title>
  </head>
  <body>
    <form action="">
      <div
        class="
          mx-auto
          flex flex-col
          sm:flex-row
          space-y-2
          sm:space-y-0 sm:space-x-2
        "
      >
        <!-- Date -->
        <div class="date_in bg-white rounded-lg border border-blue-400">
          <input
            type="date"
            id="txtDate1"
            class="px-1 rounded-lg text-black"
            required="Required"
            class="form-control"
            name="txtDate1"
          />
        </div>
        <div class="date_out bg-white rounded-lg border border-blue-400">
          <input
            type="date"
            id="txtDate2"
            class="px-1 rounded-lg text-black"
            required="Required"
            class="form-control"
            name="txtDate2"
          />
        </div>

        <!-- Guests -->
        <div
          class="guests_add bg-white rounded-lg px-2 flex items-center"
          onclick="popup_guest()"
        >
          <i class="fas fa-users text-gray-400 bg-white"></i>
          <input
            type="number"
            class="rounded-lg text-black w-[70px] pl-2"
            placeholder="Guests"
            value=""
            disabled=""
            id="guest_val"
          />
          <i class="fas fa-sort-down text-gray-400 bg-white pb-1"></i>
        </div>

        <input type="button" value="Search" onclick="show_alert()" />
      </div>
    </form>

    <!-- Guests Pop Up-->
    <div
      class="pop_up_guest hidden flex flex-col bg-white p-4"
      id="set_guest_num"
    >
      <div class="flex items-center space-x-3">
        <p class="text-3xl">Guests</p>
        <button
          class="
            px-5
            py-2
            text-center
            rounded-full
            border-2 border-[#00CD92]
            text-[#00CD92] text-3xl
            font-black
            focus:ring focus:ring-[#00CD92]
            hover:bg-[#00CD92] hover:text-white
          "
          onclick="decrement()"
        >
          -
        </button>
        <p id="guest_size" class="text-3xl">0</p>
        <button
          class="
            px-4
            py-2
            text-center
            rounded-full
            border-2 border-[#00CD92]
            text-[#00CD92] text-3xl
            font-black
            focus:ring focus:ring-[#00CD92]
            hover:bg-[#00CD92] hover:text-white
          "
          onclick="increment()"
        >
          +
        </button>
      </div>
      <div class="add_buttton flex justify-end">
        <button
          class="
            bg-[#00CD92]
            text-white
            uppercase
            shadow-lg
            py-3
            px-6
            rounded-lg
          "
          onclick="on_add_guest()"
        >
          ADD
        </button>
      </div>
    </div>

    <script>
      let check_in = new Date().toISOString().split("T")[0];
      document.getElementsByName("txtDate1")[0].setAttribute("min", check_in);

      let check_out = new Date().toISOString().split("T")[0];
      document.getElementsByName("txtDate2")[0].setAttribute("min", check_out);

      let guest_size = 0;
      let set_guest_num = document.getElementById("set_guest_num");

      function decrement() {
        if (guest_size == 0) {
          document.getElementById("guest_size").innerText = guest_size;
        } else {
          guest_size -= 1;
          document.getElementById("guest_size").innerText = guest_size;
        }
      }

      function increment() {
        guest_size += 1;
        document.getElementById("guest_size").innerText = guest_size;
      }

      function on_add_guest() {
        let guest_val = document.getElementById("guest_val");
        guest_val.value = guest_size;
        set_guest_num.classList.toggle("hidden");
      }
      function popup_guest() {
        set_guest_num.classList.toggle("hidden");
      }

      function show_alert() {
        let no_of_guests = document.getElementById("guest_val").value;
        if (guest_size != 0) {
          guest_size = no_of_guests;
        }

        let check_in = document.getElementById("txtDate1").value;
        let check_out = document.getElementById("txtDate2").value;

        if (check_in < check_out) {
          alert(
            "Search: ~ \n" +
              "Checkin: " +
              check_in +
              "\nCheckout: " +
              check_out +
              "\nGuest: " +
              guest_size +
              "\n" +
              "Price range: ~ \n"
          );
        } else {
          alert("Sorry, we don't time travel :)");
        }
      }
    </script>
  </body>
</html>
