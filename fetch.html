<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fetch Demo</title>
  </head>
  <body>
    <input type="text" id="search" />
    <div id="emptydiv"></div>
    <script>
      // Response body is showing null
      function test() {
        // console.log("Hello");
        fetch(
          "https://www.vacationhomerentals.com/content/srp/saut?s=Las%20vegas",
          {
            method: "GET",
            mode: "no-cors",
          }
        ).then((apiData) => {
          console.log(apiData);
        });
      }
      test();

      //   Sample Data
      let data = [
        {
          id: 503358,
          Name: "Province of Ragusa, Sicily, Italy",
          Count: 51,
          SlashName:
            "italy\/sicily\/province-of-ragusa-vacation-rentals\/g100503358",
        },
        {
          id: 416298,
          Name: "Jerusalem, Jerusalem District, Israel",
          Count: 4,
          SlashName: "Israel\/Jerusalem-vacation-rentals\/g2579\/",
        },
        {
          id: 407700,
          Name: "Jerusalem District, Israel",
          Count: 4,
          SlashName: "israel\/jerusalem-district-vacation-rentals\/g100407700",
        },
        {
          id: 686343,
          Name: "Marausa, Trapani, Italy",
          Count: 2,
          SlashName:
            "sicily\/province-of-trapani\/trapani\/marausa-vacation-rentals\/g100686343",
        },
        {
          id: 414003,
          Name: "Husafell, West Region, Iceland",
          Count: 2,
          SlashName:
            "iceland\/west-region\/husafell-vacation-rentals\/g100414003",
        },
        {
          id: 414006,
          Name: "Husavik, Northeast Region, Iceland",
          Count: 2,
          SlashName:
            "iceland\/northeast-region\/husavik-vacation-rentals\/g100414006",
        },
        {
          id: 574074,
          Name: "Llanddeusant, Anglesey, United Kingdom",
          Count: 1,
          SlashName:
            "wales\/north-wales\/anglesey\/llanddeusant-vacation-rentals\/g100574074",
        },
      ];
      let allString = "<ul>";
      let search = document.getElementById("search");

      search.onkeyup = (e) => {
        let userData = e.target.value; // user enetered data
        let emptyArray = data.filter(({ Name }) => {
          console.log(Name);
          return Name.toLocaleLowerCase().startsWith(
            userData.toLocaleLowerCase()
          );
          // if (item["Name"].toLocaleLowerCase().startsWith(e.target.value)) {
          //   console.log(true);
          //   allString += "<li>" + item["Name"] + "</li>";
          // }
        });
        console.log(emptyArray);
        emptyArray = emptyArray.map(({ Name }) => {
          return (data = "<li>" + { Name } + "</li>");
        });
        console.log(emptyArray);
      };

      // let list = data.map((item) => {
      //   allString += "<li>" + item["Name"] + "</li>";
      //   return (data = "<li>" + item["Name"] + "</li>");
      // });
      // allString += "</ul>";
      // console.log(allString);
      // document.getElementById("emptydiv").innerHTML = allString;
    </script>
  </body>
</html>

<!-- First, take all the names fromt the json data -->
